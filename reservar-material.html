<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Reserva de Material - Rincón TIC Columela</title>
    <!-- 1. Carga de Tailwind CSS (CDN) -->
    <script src="https://cdn.tailwindcss.com"></script>
    
    <!-- 2. Configuración de Colores (CRÍTICO) -->
    <script src="tailwind.config.js"></script>
    
    <!-- 3. Estilos -->
    <link rel="stylesheet" href="styles.css">
    <link rel="shortcut icon" href="img/favicon.ico" type="image/x-icon">

    <!-- Carga de Phosphor Icons (para el icono +/- del acordeón) -->
    <script src="https://unpkg.com/@phosphor-icons/web@2.1.1"></script>
    
    <!-- 4. Script de Carga Dinámica (CRÍTICO para la estructura visual) -->
    <script src="dynamic-loader.js"></script>

    <!-- 5. Script de Lógica de Categorías y Datos: Se mantiene al final del body -->

</head>
<body class="bg-gray-50 font-sans antialiased min-h-screen flex flex-col">

    <!-- Contenedor para la Cabecera (Se inyectará header.html) -->
    <div id="header-container"></div>

    <!-- 2. Contenido Principal -->
    <main class="flex-grow max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8">

         <!-- Inicio del Breadcrumb (Migas de Pan). -->
        <nav aria-label="Breadcrumb" class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
            <ol class="flex items-center space-x-2 text-sm text-columela-text">
                <li>
                    <a href="index.html" class="flex items-center text-columela-blue hover:underline"><i class="ph ph-house mr-1.5"></i>Inicio</a>
                </li>
                <li><i class="ph ph-caret-right text-gray-400"></i></li>
                <li>
                    <a href="gestion-recursos.html" class="text-columela-blue hover:underline">Gestión de recursos</a>
                </li>
                <li><i class="ph ph-caret-right text-gray-400"></i></li>
                <li>
                    <span class="font-medium text-gray-500" aria-current="page">Reservar material TIC</span>
                </li>
            </ol>
        </nav>
        <!-- Fin del Breadcrumb. -->
        
        <h1 class="text-4xl font-extrabold text-columela-dark mb-2 border-b-4 border-columela-yellow pb-2 pt-8">
            Reserva y uso de material TIC
        </h1>
        <p class="text-xl text-gray-600 mb-8">
            Consulta la ubicación, normativa clave y notas de uso de los recursos TIC disponibles.
        </p>

        <!-- SECCIÓN DE NORMAS CLAVE (MUY VISIBLE) -->
        <section class="mb-12 p-6 bg-red-100 border-l-8 border-red-600 rounded-xl shadow-lg">
            <h2 class="text-2xl font-bold text-red-700 mb-4 flex items-center">
                <i class="ph ph-warning-octagon text-3xl mr-3"></i>
                NORMATIVA FUNDAMENTAL DE USO
            </h2>
            <ul class="space-y-3 text-red-800 list-disc pl-5">
                <li>
                    <span class="font-bold uppercase text-base">Recogida y Devolución EXCLUSIVA del Profesorado:</span> 
                    Bajo ninguna circunstancia se permitirá al alumnado recoger o devolver el material.
                </li>
                <li>
                    <span class="font-bold uppercase text-base">Devolución en Perfecto Estado y Carga:</span> 
                    Asegúrate de que los equipos se devuelven en su ranura numérica correcta (e.g., portátil 1 en ranura 1), todos <strong>correctamente enchufados</strong> y el carro <strong>conectado a la red</strong>. Si se utiliza durante una hora completa, se recomienda darle una <strong>carga rápida</strong> con el pulsador.
                </li>
                <li>
                    <span class="font-bold uppercase text-base">Reserva Obligatoria:</span> 
                    Para el uso de cualquier material (carritos, kits, gafas) es <strong>OBLIGATORIO</strong> reservarlo previamente a través de la sección <span class="font-mono bg-red-200 px-1 rounded text-red-900">Reservas -> TIC</span> de la Intranet.
                </li>
                <li>
                    <span class="font-bold uppercase text-base">Registro de Incidencias:</span> 
                    Si detectas algún fallo en el equipo, gestiona la incidencia según la normativa detallada en: <a href="reportar-incidencia.html" class="underline font-bold text-red-900 hover:text-red-600 transition duration-150 flex-grow-0">Página de Reporte de Incidencias <i class="ph ph-link-simple text-base align-middle ml-1"></i></a>
                </li>
            </ul>
        </section>

        <!-- SECCIÓN DE CATEGORIZACIÓN DE MATERIAL -->
        <section class="mb-12">
            <h2 class="text-2xl font-semibold text-columela-dark mb-4">Ubicación y Ficha de Recurso</h2>

            <!-- TABS/BOTONES DE CATEGORÍA -->
            <!-- La línea de abajo crea un contenedor que actúa como la base de las pestañas -->
            <div class="flex flex-wrap gap-2 md:gap-4 mb-6 border-b border-gray-200 bg-columela-light rounded-t-lg">
                <!-- Los botones AHORA usan data-category en lugar de onclick -->
                <button id="tab-portatiles" class="tab-button" data-category="portatiles">
                    <i class="ph ph-laptop text-lg mr-1"></i> Carritos de Portátiles
                </button>
                <button id="tab-vr" class="tab-button" data-category="vr">
                    <i class="ph ph-virtual-reality text-lg mr-1"></i> Realidad Virtual
                </button>
                <button id="tab-robotica" class="tab-button" data-category="robotica">
                    <i class="ph ph-robot text-lg mr-1"></i> Kits de Robótica
                </button>
                <button id="tab-impresoras" class="tab-button" data-category="impresoras">
                    <i class="ph ph-printer text-lg mr-1"></i> Impresoras 3D
                </button>
            </div>

            <!-- CONTENIDO DINÁMICO DE CATEGORÍAS -->
            <!-- El contenido debe tener un fondo blanco para que las pestañas activas se vean bien -->
            <div id="content-container" class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-6 p-6 bg-white rounded-b-xl shadow-lg">
                <!-- Contenido Inicial: Se carga automáticamente la categoría 'portatiles' al cargar la página -->
            </div>
        </section>

         <!-- GUÍA DE RESERVA EN INTRANET -->
        <div class="text-center p-6 bg-columela-blue/10 border border-columela-blue rounded-xl">
            <p class="text-xl font-bold text-columela-dark mb-3">Guía Rápida: ¿Cómo reservar un recurso?</p>
            <p class="text-gray-700 mb-4">
                La reserva de la mayoría de estos recursos se realiza exclusivamente a través del módulo de <a href="https://intranet.iescolumela.es/reservas/index.php?recurso=TIC" target="_blank">Reservas TIC de la Intranet del centro</a>
            </p>
            <div class="grid md:grid-cols-2 gap-6">
                <!-- Pasos de Reserva -->
                <ol class="space-y-3 text-sm text-gray-700">
                    <li class="flex items-start">
                        <span class="font-bold text-columela-blue mr-2 flex-shrink-0">1.</span>
                        <span>Accede a la <a href="https://intranet.iescolumela.es/" target="_blank" class="text-columela-blue hover:underline font-semibold">Intranet del centro</a>.</span>
                    </li>
                    <li class="flex items-start">
                        <span class="font-bold text-columela-blue mr-2 flex-shrink-0">2.</span>
                        <span>Ve a la sección: Reservas <i class="ph ph-caret-right text-xs align-middle"></i><a href="https://intranet.iescolumela.es/reservas/index.php?recurso=TIC" target="_blank" class="text-columela-blue hover:underline font-semibold"> TIC</a>.</span>
                    </li>
                    <li class="flex items-start">
                        <span class="font-bold text-columela-blue mr-2 flex-shrink-0">3.</span>
                        <span>Selecciona el botón Reservar junto al recurso deseado (ej. "Carro Portátiles 0").</span>
                    </li>
                    <li class="flex items-start">
                        <span class="font-bold text-columela-blue mr-2 flex-shrink-0">4.</span>
                        <span>Elige la fecha y hora en el calendario y pulsa Reservar para confirmar.</span>
                    </li>
                    <li class="flex items-start">
                        <span class="font-bold text-columela-blue mr-2 flex-shrink-0">5.</span>
                        <span>(Opcional:) Utiliza el campo de observaciones si necesitas añadir alguna nota.</span>
                    </li>
                </ol>

                <!-- Video y Enlace de ayuda -->
                <div class="space-y-3 p-4 bg-white rounded-lg border border-gray-200">
                    <p class="font-semibold text-columela-dark">Ayuda Adicional:</p>
                    <a href="https://drive.google.com/file/d/1kR30dxO_e3X4CSUmErqTpNya3ojOmQIx/view?usp=drive_link" target="_blank" class="flex items-center text-sm text-columela-blue hover:text-blue-700 transition duration-150">
                        <i class="ph ph-video-camera text-xl mr-2"></i>
                        Ver videotutorial de reserva (PDF con pasos)
                    </a>
                    <p class="text-xs text-gray-500 pt-2 border-t mt-3">Recuerda: Si el recurso no tiene enlace de reserva, contacta con la coordinadora TDE.</p>
                </div>
            </div>
        </div>

        
        

    </main>

    <!-- 3. Contenedor para el Pie de Página (Se inyecta footer.html aquí) -->
    <div id="footer-container"></div>

    <!-- 5. Script de Lógica de Categorías y Datos: SOLUCIÓN AL ERROR -->
    <!-- Al colocar el script aquí, nos aseguramos de que el DOM se haya cargado.
         Además, hemos eliminado los onclick y usamos addEventListener. -->
    <script src="reservar-material.js"></script>

</body>
</html>